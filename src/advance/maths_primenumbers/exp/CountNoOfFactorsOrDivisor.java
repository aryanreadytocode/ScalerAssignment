package advance.maths_primenumbers.exp;

import java.util.Arrays;
import java.util.HashMap;

public class CountNoOfFactorsOrDivisor {

    public static void main(String[] args) {
//        int[] A = {27521, 44094, 37787, 38847, 40759, 41969, 21119, 47889, 33832, 44061, 40951, 25171, 30407, 28304, 29293, 48892, 28212, 24429, 36341, 30644, 47531, 43870, 48682, 22288, 36112, 20321, 25878, 20419, 28175, 30079, 25854, 41675, 25536, 36241, 48417, 39417, 33988, 28087, 24977, 36869, 37799, 36273, 30835, 33476, 39647, 46041, 44450, 40176, 42420, 24402, 35838, 45326, 23173, 33158, 33663, 26338, 37985, 47739, 27658, 42493, 29687, 22165, 29837, 32076, 28319, 22907, 24398, 21818, 36701, 29093, 42410, 48615, 20804, 43395, 43200, 22731, 26537, 26977, 39919, 28103, 21165, 33106, 31963, 48900, 48957, 47480, 41861, 22307, 36584, 48926, 48826, 25449, 34581, 21943, 25466, 29497, 46455, 22531, 28108, 46365, 27195, 30927, 24868, 32907, 27628, 49268, 38940, 34237, 40521, 48712, 27615, 31683, 38486, 29310, 30276, 42001, 42537, 46840, 30997, 22697, 43659, 23939, 43521, 33817, 37946, 38175, 28134, 49157, 38754, 27160, 21455, 29737, 46861, 40532, 31306, 49365, 21904, 20458, 29696, 36310, 25301, 36382, 37465, 26578, 26484, 45973, 34384, 32767, 20596, 42674, 28402, 48324, 46834, 40838, 37325, 49953, 22255, 22274, 45536, 41084, 26315, 22985, 27279, 26623, 26418, 36077, 26763, 43760, 24545, 26177, 23621, 35286, 29461, 22267, 30354, 30797, 28137, 29532, 46084, 37217, 33832, 36815, 38343, 43375, 46794, 44335, 31781, 43799, 36727, 26661, 39369, 24563, 34071, 48388, 28243, 38842, 39664, 44679, 48445, 21843, 49675, 35686, 38653, 44030, 34572, 22888, 28599, 47886, 37597, 36691, 43006, 27130, 49448, 27972, 46863, 37989, 41954, 31966, 36414, 20139, 44192, 40605, 44551, 20078, 39840, 49463, 23237, 41980, 24705, 47633, 49311, 20658, 48049, 23208, 33285, 27934, 30815, 43605, 43894, 47625, 27991, 48702, 23770, 35432, 21138, 25704, 34109, 48320, 20647, 27751, 48255, 43358, 45460, 43581, 25922, 48753, 20885, 43068, 31268, 49521, 22702, 43130, 49158, 27359, 37991, 20348, 24839, 38436, 40093, 30717, 42778, 44217, 46729, 33158, 30622, 29070, 26591, 41894, 24173, 44102, 20792, 33354, 38858, 29690, 31182, 36116, 42459, 49295, 37964, 47356, 42859, 34470, 34111, 26487, 23204, 25530, 33813, 25998, 35236, 24009, 26647, 41065, 39591, 31988, 48300, 43280, 29585, 29396, 22464, 29722, 22420, 43724, 47079, 46747, 38829, 26981, 31217, 48137, 28979, 42442, 26875, 49809, 38944, 38498, 32418, 37871, 38172, 49005, 41749, 43748, 44269, 38684, 25173, 29126, 46932, 48573, 34582, 24698, 38105, 30050, 26884, 40146, 20325, 36793, 25638, 28368, 49840, 21942, 21499, 34823, 35354, 32903, 47524, 42781, 47269, 48559, 45388, 37518, 35872, 33181, 33377, 36804, 40370, 38043, 36432, 31619, 33620, 35614, 22640, 49749, 20199, 42336, 39436, 25865, 37807, 34206, 36230, 24792, 24152, 24906, 48401, 49956, 23215, 38802, 30462, 36531, 26281, 31026, 33794, 28464, 44288, 33845, 46553, 40397, 48888, 42730, 20371, 29600, 40154, 36952, 20030, 49250, 29098, 28105, 28646, 42809, 23060, 35715, 41910, 29886, 31644, 42081, 30593, 36766, 30166, 38620, 40950, 49763, 26533, 33327, 47669, 36770, 36160, 33485, 23831, 41694, 47855, 39458, 46736, 28062, 31666, 44321, 37602, 31797, 27397, 20141, 46985, 39096, 29891, 34999, 46217, 33470, 44322, 25308, 48425, 46285, 41486, 45640, 40502, 47661, 29574, 23067, 30037, 39240, 35070, 25110, 48399, 47212, 41260, 39512, 33184, 23037, 28387, 30539, 49803, 40548, 44699, 40033, 23343, 41525, 42552, 32228, 47843, 47485, 28350, 39319, 40770, 43194, 49345, 39890, 45947, 37425, 34347, 34666, 48160, 48651, 49024, 43572, 47502, 37728, 49823, 24757, 30905, 36194, 33603, 20204, 22475, 27507, 42761, 23559, 43035, 49534, 48074, 24137, 32816, 49649, 43568, 46490, 49410, 49174, 29509, 27586, 25973, 21313, 31087, 23484, 22271, 26477, 41535, 24377, 43369, 20695, 49260, 21143, 37733, 36937, 29113, 47889, 38169, 35317, 28145, 23573, 35279, 26685, 26100, 31589, 34177, 24625, 20513, 29094, 20884, 23754, 45551, 48079, 45187, 47175, 42718, 27458, 31824, 43113, 30212, 30013, 21643, 30152, 36059, 29712, 28759, 22008, 38190, 33827, 38936, 26542, 22360, 30375, 38191, 49640, 36224, 44647, 49154, 42681, 24944, 29066, 35867, 22664, 30557, 38290, 25661, 26485, 23744, 36227, 29224, 25597, 42839, 33760, 47312, 44132, 40753, 25099, 24453, 42587, 46037, 27116, 26634, 20458, 39510, 39602, 21278, 44622, 42817, 35137, 23842, 45847, 49858, 45250, 36025, 33681, 26340, 34661, 25992, 39889, 36656, 47767, 41072, 22841, 20959, 41012, 28125, 29581, 28685, 21546, 46273, 28883, 47751, 36405, 30734, 27336, 41440, 37602, 45425, 41406, 47366, 36727, 25387, 31584, 25014, 28156, 38386, 29978, 40144, 22595, 47851, 20234, 45816, 42519, 46908, 28349, 30963, 38096, 25535, 24766, 48289, 26401, 49781, 42249, 43777, 48088, 23617, 20232, 20381, 24318, 40382, 44786, 48309, 22483, 31651, 33945, 43959, 32223, 27204, 30978, 28855, 33402, 30030, 43109, 48862, 25023, 45445, 20444, 32668, 38589, 33116, 49189, 26848, 31126, 45262, 24766, 42870, 21996, 23383, 34276, 29103, 43669, 39762, 33545, 38365, 29946, 28401, 22232, 28540, 45566, 33322, 20700, 40710, 38738, 30007, 24876, 35603, 43048, 38314, 39996, 45404, 47135, 32493, 20994, 23783, 39806, 45837, 36352, 42551, 44599, 24146, 33453, 38554, 41427, 33526, 26941, 39371, 23696, 23980, 47166, 30935, 37236, 41042, 23611, 34507, 32552, 22989, 28217, 44415, 34218, 21304, 35639, 21598, 30767, 26773, 41892, 41410, 45149, 23076, 49360, 47071, 39687, 23845, 24895, 43007, 30606, 37973, 38673, 24615, 35422, 41489, 34541, 33168, 41978, 22484, 37974, 36313, 30528, 38470, 35164, 46133, 40150, 43101, 46504, 27859, 47725, 21469, 29555, 23215, 41996, 20120, 20673, 32865, 26572, 29541, 30669, 22712, 24333, 23233, 38356, 28671, 41491, 28460, 36392, 24133, 42480, 39458, 36695, 33670, 47029, 34279, 27636, 45456, 38081, 31524, 32437, 43559, 23767, 42931, 47545, 39631, 48327, 32287, 31312, 41513, 25778, 40221, 37060, 34041, 36236, 28256, 40499, 24731, 28013, 44042, 39655, 24117, 39138, 22821, 35681, 27311, 49538, 48138, 45482, 39836, 50000, 47274, 41729, 36916, 46000, 44269, 42712, 31302, 43763, 45194, 43529, 40199, 32237, 37102, 41358, 37127, 28323, 43302, 20978, 49440, 33416, 33666, 22328, 26817, 37303, 39354, 49679, 30363, 40606, 26708, 42008, 45881, 49276, 35169, 26334, 48587, 34186, 28785, 40118, 39861, 35577, 20368, 25406, 29670, 25977, 41434, 46151, 31021, 46360, 49930, 21013, 35229, 48505, 31237, 47138, 38867, 42044, 26113, 25633, 45057, 27291, 22152, 47026, 43243, 24794, 32883, 24603, 42738, 49570, 30903, 45441, 26196, 42196, 38368, 22960, 39696, 20322, 29798, 31105, 46332, 32756, 38490, 48637, 40153, 44040, 38800, 32693, 36854, 30399, 42307, 23532, 46939, 28104, 36177, 37383, 46024, 22583, 27189, 21499, 35641, 41191, 44588, 44892, 26226, 24208, 29390, 29740, 42027, 27580, 36919, 22258, 25375, 36942, 33114, 47675, 35219, 35796, 33725, 42157, 21844, 21133, 48654, 44760, 36578, 27451, 21592, 25000, 31665, 44947, 27700, 26327, 21750, 49706, 49280, 42622, 44170, 32871, 21392, 43925, 20850, 32241, 25956, 48801, 39818, 43252, 34204, 24217, 29223, 37140, 43382, 39401, 21402, 31995, 24251, 47941, 38774, 27575, 41363, 32411, 27348, 47093, 28106, 37957, 27290, 28702, 43323, 45642, 43317, 36111, 35704, 42924, 20756, 31664, 36314, 47367, 35829, 46301, 28424, 30596, 21088, 49090, 47317, 42672, 39112, 44470, 30940, 32293, 49268, 48003, 45159, 45797, 23887, 31267, 34916, 47551, 21334, 33524, 24889, 26225, 34300, 22037, 20142, 25478, 22191, 24278, 38943, 43820, 36719, 43874, 36189, 36858, 49690, 27890, 36934, 45753, 41600, 36037, 45169, 38481, 48952, 42488, 43409, 35525, 47130, 28383, 43699, 48781, 44396, 27584, 40406, 41827, 20869, 49941, 29629, 31259, 34417, 35270, 39141, 42540, 23095, 37295, 46655, 49737, 41195, 40077, 22669, 36624, 43055, 49929, 37361, 36958, 25574, 33448, 48858, 44186, 26850, 27153, 22820, 25564, 44507, 26184, 30489, 32494, 43160, 38805, 24305, 47967, 45975, 29780, 36858, 43213, 30499, 39321, 20210, 29132, 23896, 35048, 48673, 23625, 47250, 32379, 28778, 33820, 32955, 43920, 25611, 42130, 33148, 30718, 24690, 37277, 20803, 37832, 43364, 45777, 48465, 43307, 35144, 45930, 42636, 43594, 24497, 35113, 44562, 29511, 48468, 22082, 20547, 45127, 34979, 39119, 27066, 37388, 35885, 34156, 47686, 36988, 25695, 30504, 40344, 30778, 34494, 41488, 24612, 43064, 35797, 49141, 39505, 27330, 37069, 20209, 32868, 21338, 22219, 28894, 23641, 37116, 41750, 34239, 38193, 33139, 47194, 30653, 31510, 48971, 22217, 42896, 43349, 42743, 33105, 31791, 28373, 49227, 36439, 24173, 48029, 40757, 41525, 49879, 20204, 34963, 39569, 40191, 20792, 22173, 30743, 35876, 48978, 21451, 24081, 28840, 35502, 47473, 33662, 29620, 30239, 20916, 37744, 43159, 42218, 22711, 25360, 27843, 31688, 37276, 27493, 47454, 40009, 41954, 47176, 42524, 38959, 39008, 34810, 36692, 46640, 42983, 21650, 24828, 32332, 29787, 45682, 23188, 47609, 24651, 20157, 27422, 35581, 44044, 35736, 42106, 24472, 41810, 42555, 25421, 45651, 22095, 38624, 34806, 49945, 41177, 25704, 23763, 29407, 36990, 43256, 46555, 24713, 29072, 25187, 36263, 31140, 32720, 42954, 42621, 48439, 49400, 42047, 39131, 22052, 40957, 27126, 34289, 24902, 27782, 23912, 39232, 30427, 20933, 43541, 43798, 48757, 25246, 37318, 44846, 48704, 34655, 46780, 44750, 38846, 42362, 45568, 34216, 31153, 37062, 35972, 21989, 30549, 22215, 23979, 24652, 33389, 38300, 32380, 32498, 27121, 48144, 41838, 22465, 42392, 22755, 24931, 36307, 27470, 49602, 37898, 31498, 43289, 36986, 49279, 23976, 45357, 47075, 43776, 35539, 36586, 26213, 33475, 44631, 32459, 24433, 27058, 27387, 27056, 26516, 40858, 46113, 45274, 24628, 33471, 44831, 43013, 37371, 48209, 46248, 43305, 22117, 24937, 31333, 42164, 46699, 24791, 21757, 33515, 32936, 47869, 36684, 47765, 28050, 35357, 48841, 23482, 30797, 23518, 20390, 26279, 37099, 37681, 36952, 33241, 25124, 49737, 28093, 45260, 32067, 42743, 24794, 33256, 34422, 40961, 48768, 27657, 40255, 23113, 35044, 43497, 25864, 30780, 37990, 46273, 40303, 42654, 21852, 36066, 49526, 38908, 30039, 39560, 47353, 38097, 32624, 41357, 23127, 31902, 29113, 27491, 25737, 40610, 23106, 25179, 40717, 34456, 37428, 23698, 41365, 42911, 32313, 41842, 46164, 35620, 45472, 47596, 23436, 45036, 21311, 35621, 29882, 31761, 27189, 47700, 42645, 39343, 37374, 20609, 24675, 45624, 20382, 34858, 40511, 32824, 22553, 26374, 24095, 28301, 20067, 41592, 21992, 32334, 33167, 44416, 44219, 38482, 20105, 41271, 21029, 45801, 24242, 37857, 47244, 20780, 35844, 28321, 26164, 40015, 40435, 24355, 22797, 42505, 38059, 48195, 30889, 43085, 42441, 39670, 20358, 25690, 35974, 33285, 20863, 47140, 45432, 36868, 23686, 28742, 44618, 28530, 47660, 34357, 23534, 23616, 45666, 39511, 39306, 47891, 36176, 36928, 31878, 27526, 49453, 49147, 37508, 40418, 30372, 29012, 45233, 27004, 29335, 43565, 35886, 32140, 29472, 26295, 39760, 22589, 22192, 36865, 47772, 37451, 44282, 26221, 41908, 41209, 37955, 38521, 43850, 31235, 20775, 29486, 25960, 23338, 24978, 33700, 26335, 40424, 35588, 30888, 29274, 30516, 23702, 33539, 24402, 31207, 35581, 25105, 21727, 48175, 39520, 49703, 46152, 25597, 21109, 20503, 33393, 46243, 43237, 35076, 29879, 48570, 20147, 31546, 31977, 37501, 35030, 49921, 24929, 24484, 47930, 27899, 39023, 31121, 25299, 20326, 29896, 48996, 44236, 35820, 21433, 26375, 33308, 23298, 33454, 30170, 27994, 24900, 32302, 48964, 32021, 30321, 30587, 40016, 26322, 30780, 32607, 29928, 45027, 28718, 34491, 25141, 32679, 41876, 32767, 24600, 38948, 37670, 21923, 22744, 46263, 25750, 30602, 46566, 42239, 23194, 27273, 25653, 42309, 28184, 39706, 29085, 28771, 23955, 38123, 27623, 30426, 45544, 29767, 43942, 42091, 27213, 42579, 37606, 35643, 38528, 27852, 45182, 23771, 41770, 46141, 39194, 24280, 42887, 37180, 32698, 46740, 42227, 33389, 28958, 44325, 40192, 37408, 38121, 41975, 36410, 37251, 34890, 47445, 39240, 37960, 32987, 34496, 35287};
        int[] A = {20,5,8,7,3};
        System.out.println(Arrays.toString(noOfDivisors(A)));
    }

    public static int[] noOfDivisors(int[] A) { //36
        int[] spf = buildSPF(A);
        for (int i = 0; i<A.length; i++) {
            System.out.println("i>>"+i);
            int ele = A[i];
            int ans = 1;
            while (ele>1) {
                int p = spf[ele]; //2
                System.out.println("p>>"+p);
                int c = 0;
                System.out.println("ele>>"+ele);
                while(ele%p==0){
                    ele /=p;
                    c++;//2
                }
                ans = ans*(c+1);
            }
            A[i] = ans;

        }
        return A;
    }

    public static int[] buildSPF(int[] A) {

        int length = findLength(A);
        int[] spf = new int[length + 1];
        for (int i = 2; i <= length; i++) {
            System.out.println("i>>"+i);
            if (spf[i] == 0) {
                spf[i] = i;
                if (i > Math.sqrt(length))
                    continue;
                for (int j = i * i; j <= length; j += i) {
                    if (spf[j] == 0) {
                        spf[j] = i;
                    }
                }
            }
        }
        return spf;
    }

    private static int findLength(int[] a) {
        int maxValue = Integer.MIN_VALUE;
        for (int j = 0; j < a.length; j++) {
            if (maxValue < a[j])
                maxValue = a[j];
        }
        return maxValue;
    }
}
